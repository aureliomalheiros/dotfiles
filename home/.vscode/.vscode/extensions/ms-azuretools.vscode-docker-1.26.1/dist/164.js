"use strict";exports.id=164,exports.ids=[164],exports.modules={67164:(e,n,t)=>{t.r(n),t.d(n,{AppInsightsCore:()=>ie,BaseCore:()=>oe,BaseTelemetryPlugin:()=>Q.i,CoreUtils:()=>ne.Tr,DiagnosticLogger:()=>w.AQ,ESPromise:()=>ue,ESPromiseScheduler:()=>de,EventHelper:()=>pe.zB,EventLatency:()=>I,EventPersistence:()=>A,EventPropertyType:()=>b,EventsDiscardedReason:()=>me.h,FullVersionString:()=>ne.vs,InternalAppInsightsCore:()=>X,InternalBaseCore:()=>Y,LoggingSeverity:()=>P,MinChannelPriorty:()=>ve,NotificationManager:()=>$,PerfEvent:()=>D.zn,PerfManager:()=>D.Jk,ProcessTelemetryContext:()=>V.Vi,TraceLevel:()=>L,Undefined:()=>Ce.jA,Utils:()=>ne.cQ,ValueKind:()=>T,ValueSanitizer:()=>ge,Version:()=>ne.Gf,_ExtendedInternalMessageId:()=>O,_InternalLogMessage:()=>w.lQ,_InternalMessageId:()=>E,__getRegisteredEvents:()=>_e.um,_logInternalMessage:()=>w.L4,_throwInternal:()=>w.kP,_warnToConsole:()=>w.jV,addEventHandler:()=>_e.Ib,addEventListeners:()=>_e.yw,addPageHideEventListener:()=>_e.TJ,addPageShowEventListener:()=>_e.nD,addPageUnloadEventListener:()=>_e.c9,areCookiesSupported:()=>U.p7,arrForEach:()=>a.tO,arrIndexOf:()=>a.UA,arrMap:()=>a.Mr,arrReduce:()=>a.Xz,attachEvent:()=>_e.pZ,cookieAvailable:()=>U.p7,createCookieMgr:()=>U.Nz,createEnumStyle:()=>o.By,createGuid:()=>ne.cm,createProcessTelemetryContext:()=>V.CD,createTraceParent:()=>ye.SU,createUniqueNamespace:()=>B.J,createUnloadHandlerContainer:()=>H.Y,dateNow:()=>a.m6,deleteCookie:()=>ne.kT,detachEvent:()=>_e.pD,disableCookies:()=>ne.oF,disallowsSameSiteNone:()=>U.UY,doPerf:()=>D.Lm,dumpObj:()=>k.eU,eventOff:()=>_e.QY,eventOn:()=>_e.XO,extend:()=>ne.l7,findW3cTraceParent:()=>ye.lq,formatTraceParent:()=>ye.aR,generateW3CId:()=>pe.DO,getCommonSchemaMetaData:()=>ne.Vv,getConsole:()=>k.dr,getCookie:()=>ne.ej,getCookieValue:()=>ne.Do,getCrypto:()=>k.MX,getDocument:()=>k.Me,getExceptionName:()=>a.jj,getFieldValueType:()=>ne.Sy,getGlobal:()=>N.Rd,getGlobalInst:()=>k.a8,getHistory:()=>k.s1,getIEVersion:()=>k.sA,getISOString:()=>a.Y6,getJSON:()=>k.xA,getLocation:()=>k.k$,getMsCrypto:()=>k.gz,getNavigator:()=>k.jW,getPerformance:()=>k.r,getSetValue:()=>a.qK,getTenantId:()=>ne.jM,getTime:()=>ne.hK,getWindow:()=>k.Jj,hasDocument:()=>k.Nv,hasHistory:()=>k.fE,hasJSON:()=>k.nS,hasNavigator:()=>k.d6,hasOwnProperty:()=>a.nr,hasWindow:()=>k.Ym,isArray:()=>a.kJ,isArrayValid:()=>ne.JT,isBeaconsSupported:()=>k.MF,isBoolean:()=>a.jn,isChromium:()=>ne.mJ,isDate:()=>a.J_,isDocumentObjectAvailable:()=>ne.x9,isError:()=>a.VZ,isFetchSupported:()=>k.JO,isFunction:()=>a.mf,isIE:()=>k.w1,isLatency:()=>ne.r7,isNotTruthy:()=>a.F,isNullOrUndefined:()=>a.le,isNumber:()=>a.hj,isObject:()=>a.Kn,isReactNative:()=>k.b$,isSampledFlag:()=>ye.Pn,isString:()=>a.HD,isTruthy:()=>a.fQ,isTypeof:()=>a.Ym,isUint8ArrayAvailable:()=>ne.IZ,isUndefined:()=>a.o8,isValidSpanId:()=>ye.Lc,isValidTraceId:()=>ye.jN,isValidTraceParent:()=>ye.J6,isValueAssigned:()=>ne.Sn,isValueKind:()=>ne.oS,isWindowObjectAvailable:()=>ne.dH,isXhrSupported:()=>k.Z3,mergeEvtNamespace:()=>_e.jU,newGuid:()=>pe.GW,newId:()=>he.pZ,normalizeJsName:()=>a.Gf,objCreate:()=>N.pu,objDefineAccessors:()=>a.l_,objForEachKey:()=>a.rW,objFreeze:()=>a.FL,objKeys:()=>a.FY,objSeal:()=>a.Xi,openXhr:()=>ne.ot,optimizeObject:()=>a.Ax,parseTraceParent:()=>ye.j_,perfNow:()=>pe.Jj,proxyAssign:()=>a.cf,proxyFunctionAs:()=>a.Oi,proxyFunctions:()=>a.Vb,random32:()=>he._l,randomValue:()=>he.az,removeEventHandler:()=>_e.C1,removeEventListeners:()=>_e.nJ,removePageHideEventListener:()=>_e.C9,removePageShowEventListener:()=>_e.Yl,removePageUnloadEventListener:()=>_e.JA,safeGetCookieMgr:()=>U.JP,safeGetLogger:()=>w.vH,sanitizeProperty:()=>ne.yj,setCookie:()=>ne.d8,setEnableEnvMocks:()=>k.dI,setProcessTelemetryTimings:()=>ne.if,setValue:()=>a.sO,strContains:()=>a._Q,strEndsWith:()=>a.Id,strFunction:()=>Ce.cb,strObject:()=>Ce.fK,strPrototype:()=>Ce.hB,strStartsWith:()=>a.xe,strTrim:()=>a.nd,strUndefined:()=>Ce.jA,throwError:()=>a._y,toISOString:()=>a.Y6,useXDomainRequest:()=>k.cp});var i,r=t(27421),o=t(50951),a=t(24869),u="Failed",l=u+"MonitorAjax",s="Track",c="Start",f="Stop",d="Event",g="AuthContext",v="Exception",m="Local",p="Session",_="Storage",h="Browser",C="Cannot",y="Buffer",S="InstrumentationKey",P=(0,o.By)({CRITICAL:1,WARNING:2}),E=(0,o.By)(((i={})[h+"DoesNotSupport"+m+_]=0,i[h+C+"Read"+m+_]=1,i[h+C+"Read"+p+_]=2,i[h+C+"Write"+m+_]=3,i[h+C+"Write"+p+_]=4,i[h+u+"RemovalFrom"+m+_]=5,i[h+u+"RemovalFrom"+p+_]=6,i[C+"SendEmptyTelemetry"]=7,i.ClientPerformanceMathError=8,i["ErrorParsingAI"+p+"Cookie"]=9,i.ErrorPVCalc=10,i[v+"WhileLoggingError"]=11,i[u+"AddingTelemetryTo"+y]=12,i[l+"Abort"]=13,i[l+"Dur"]=14,i[l+"Open"]=15,i[l+"RSC"]=16,i[l+"Send"]=17,i[l+"GetCorrelationHeader"]=18,i[u+"ToAddHandlerForOnBeforeUnload"]=19,i[u+"ToSendQueuedTelemetry"]=20,i[u+"ToReportDataLoss"]=21,i["Flush"+u]=22,i.MessageLimitPerPVExceeded=23,i.MissingRequiredFieldSpecification=24,i.NavigationTimingNotSupported=25,i.OnError=26,i[p+"RenewalDateIsZero"]=27,i.SenderNotInitialized=28,i[c+s+d+u]=29,i[f+s+d+u]=30,i[c+s+u]=31,i[f+s+u]=32,i.TelemetrySampledAndNotSent=33,i[s+d+u]=34,i[s+v+u]=35,i[s+"Metric"+u]=36,i[s+"PV"+u]=37,i[s+"PV"+u+"Calc"]=38,i[s+"Trace"+u]=39,i["Transmission"+u]=40,i[u+"ToSet"+_+y]=41,i[u+"ToRestore"+_+y]=42,i.InvalidBackendResponse=43,i[u+"ToFixDepricatedValues"]=44,i.InvalidDurationValue=45,i.TelemetryEnvelopeInvalid=46,i.CreateEnvelopeError=47,i[C+"SerializeObject"]=48,i[C+"SerializeObjectNonSerializable"]=49,i.CircularReferenceDetected=50,i["Clear"+g+u]=51,i[v+"Truncated"]=52,i.IllegalCharsInName=53,i.ItemNotInArray=54,i.MaxAjaxPerPVExceeded=55,i.MessageTruncated=56,i.NameTooLong=57,i.SampleRateOutOfRange=58,i["Set"+g+u]=59,i["Set"+g+u+"AccountName"]=60,i.StringValueTooLong=61,i.StartCalledMoreThanOnce=62,i.StopCalledWithoutStart=63,i["TelemetryInitializer"+u]=64,i.TrackArgumentsNotSpecified=65,i.UrlTooLong=66,i[p+_+y+"Full"]=67,i[C+"AccessCookie"]=68,i.IdTooLong=69,i.InvalidEvent=70,i[l+"SetRequestHeader"]=71,i["Send"+h+"InfoOnUserInit"]=72,i["Plugin"+v]=73,i["Notification"+v]=74,i.SnippetScriptLoadFailure=99,i["Invalid"+S]=100,i[C+"ParseAiBlobValue"]=101,i.InvalidContentBlob=102,i[s+"PageAction"+d+u]=103,i[u+"AddingCustomDefinedRequestContext"]=104,i["InMemory"+_+y+"Full"]=105,i[S+"Deprecation"]=106,i)),T=(0,o.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),I=(0,o.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),b=(0,o.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),A=(0,o.By)({Normal:1,Critical:2}),L=(0,o.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),O=(0,a.FL)((0,r.uc)((0,r.uc)({},E),(0,o.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),F=t(29141),w=t(29339),D=t(81782),k=t(49251),M=t(98145),N=t(30175),R=t(96335),V=t(31030),z=t(69031),x=500,j="Channel has invalid priority - ";function _addChannelQueue(e,n,t){n&&(0,a.kJ)(n)&&n[M.R5]>0&&(n=n.sort((function(e,n){return e[R.yi]-n[R.yi]})),(0,a.tO)(n,(function(e){e[R.yi]<x&&(0,a._y)(j+e[M.pZ])})),e[M.MW]({queue:(0,a.FL)(n),chain:(0,V.jV)(n,t[M.TC],t)}))}var U=t(88140),B=t(87624),W=t(28341),Q=t(87951),Z=function(e){function TelemetryInitializerPlugin(){var n,t,i=e.call(this)||this;function _initDefaults(){n=0,t=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,_initDefaults(),(0,F.Z)(TelemetryInitializerPlugin,i,(function(e,i){e.addTelemetryInitializer=function(e){var i={id:n++,fn:e};return t[M.MW](i),{remove:function(){(0,a.tO)(t,(function(e,n){if(e.id===i.id)return t[M.cb](n,1),-1}))}}},e[R.hL]=function(n,i){for(var r=!1,o=t[M.R5],u=0;u<o;++u){var l=t[u];if(l)try{if(!1===l.fn[M.ZV](null,[n])){r=!0;break}}catch(e){(0,w.kP)(i[M.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,a.jj)(e),{exception:(0,k.eU)(e)},!0)}}r||e[M.uL](n,i)},e[M.F3]=function(){_initDefaults()}})),i}return(0,r.ne)(TelemetryInitializerPlugin,e),TelemetryInitializerPlugin.__ieDyn=1,TelemetryInitializerPlugin}(Q.i),H=t(38593),q="Plugins must provide initialize method",K="_notificationManager",J="SDK is still unloading...",G={loggingLevelConsole:1};function _createPerfManager(e,n){return new D.Jk(n)}function _isPluginPresent(e,n){var t=!1;return(0,a.tO)(n,(function(n){if(n===e)return t=!0,-1})),t}var Y=function(){function BaseCore(){var e,n,t,i,o,u,l,s,c,f,d,g,v,m,p,_,h,C,y,S,P=0;(0,F.Z)(BaseCore,this,(function(E){function _initDefaults(){n=!1,e=(0,a.mm)(!0,{},G),E[M.TC]=e,E[M.eZ]=new w.AQ(e),E[M.iC]=[],p=new Z,t=[],i=null,o=null,u=null,l=null,s=null,f=null,c=[],d=null,g=null,v=null,m=!1,_=null,h=(0,B.J)("AIBaseCore",!0),C=(0,H.Y)(),S=null}function _createTelCtx(){return(0,V.CD)(_getPluginChain(),e,E)}function _initPluginChain(n){var t=function _validateExtensions(e,n,t){var i,r=[],o={};return(0,a.tO)(t,(function(t){((0,a.le)(t)||(0,a.le)(t[M.VL]))&&(0,a._y)(q);var i=t[R.yi],u=t[M.pZ];t&&i&&((0,a.le)(o[i])?o[i]=u:(0,w.jV)(e,"Two extensions have same priority #"+i+" - "+o[i]+", "+u)),(!i||i<n)&&r[M.MW](t)})),(i={all:t})[R.oV]=r,i}(E[M.eZ],x,c);f=t[R.oV],s=null;var i=t.all;if(v=(0,a.FL)(function createChannelQueues(e,n,t){var i=[];if(e&&(0,a.tO)(e,(function(e){return _addChannelQueue(i,e,t)})),n){var r=[];(0,a.tO)(n,(function(e){e[R.yi]>x&&r[M.MW](e)})),_addChannelQueue(i,r,t)}return i}(g,i,E)),d){var r=(0,a.UA)(i,d);-1!==r&&i[M.cb](r,1),-1!==(r=(0,a.UA)(f,d))&&f[M.cb](r,1),d._setQueue(v)}else d=function createChannelControllerPlugin(e,n){function _getTelCtx(){return(0,V.CD)(null,n[M.TC],n,null)}function _processChannelQueue(e,n,t,i){var r=e?e[M.R5]+1:1;function _runChainOnComplete(){0==--r&&(i&&i(),i=null)}r>0&&(0,a.tO)(e,(function(e){if(e&&e.queue[M.R5]>0){var i=e.chain,o=n[M.zV](i);o[M.Fc](_runChainOnComplete),t(o)}else r--})),_runChainOnComplete()}var t=!1,i={identifier:"ChannelControllerPlugin",priority:x,initialize:function(n,i,r,o){t=!0,(0,a.tO)(e,(function(e){e&&e.queue[M.R5]>0&&(0,z.bP)((0,V.CD)(e.chain,n,i),r)}))},isInitialized:function(){return t},processTelemetry:function(n,t){_processChannelQueue(e,t||_getTelCtx(),(function(e){e[M.uL](n)}),(function(){t[M.uL](n)}))},update:function _doUpdate(n,t){var i=t||{reason:0};return _processChannelQueue(e,n,(function(e){e[M.uL](i)}),(function(){n[M.uL](i)})),!0},pause:function(){_processChannelQueue(e,_getTelCtx(),(function(e){e.iterate((function(e){e.pause&&e.pause()}))}),null)},resume:function(){_processChannelQueue(e,_getTelCtx(),(function(e){e.iterate((function(e){e.resume&&e.resume()}))}),null)},teardown:function _doTeardown(n,i){var r=i||{reason:0,isAsync:!1};return _processChannelQueue(e,n,(function(e){e[M.uL](r)}),(function(){n[M.uL](r),t=!1})),!0},getChannel:function _getChannel(n){var t=null;return e&&e[M.R5]>0&&(0,a.tO)(e,(function(e){if(e&&e.queue[M.R5]>0&&((0,a.tO)(e.queue,(function(e){if(e[M.pZ]===n)return t=e,-1})),t))return-1})),t},flush:function(n,t,i,r){var o=1,a=!1,u=null;function doCallback(){o--,a&&0===o&&(u&&(clearTimeout(u),u=null),t&&t(a),t=null)}return r=r||5e3,_processChannelQueue(e,_getTelCtx(),(function(e){e.iterate((function(e){if(e[M.kL]){o++;var t=!1;e[M.kL](n,(function(){t=!0,doCallback()}),i)||t||(n&&null==u?u=setTimeout((function(){u=null,doCallback()}),r):doCallback())}}))}),(function(){a=!0,doCallback()})),!0},_setQueue:function(n){e=n}};return i}(v,E);i[M.MW](d),f[M.MW](d),E[M.iC]=(0,z.AA)(i),d[M.VL](e,E,i),(0,z.bP)(_createTelCtx(),i),E[M.iC]=(0,a.FL)((0,z.AA)(f||[])).slice(),n&&function _doUpdate(e){var n=(0,V.xy)(_getPluginChain(),E);E._updateHook&&!0===E._updateHook(n,e)||n[M.uL](e)}(n)}function _getPlugin(e){var n,t=null,i=null;return(0,a.tO)(E[M.iC],(function(n){if(n[M.pZ]===e&&n!==d&&n!==p)return i=n,-1})),!i&&d&&(i=d.getChannel(e)),i&&((n={plugin:i})[M.$h]=function(e){(0,z.OY)(i)[R.mE]=!e},n.isEnabled=function(){var e=(0,z.OY)(i);return!e[M.fi]&&!e[R.mE]},n.remove=function(e,n){var t;void 0===e&&(e=!0);var r=[i],o=((t={reason:1})[M.d]=e,t);_removePlugins(r,o,(function(e){e&&_initPluginChain({reason:32,removed:r}),n&&n(e)}))},t=n),t}function _getPluginChain(){if(!s){var n=(f||[]).slice();-1===(0,a.UA)(n,p)&&n[M.MW](p),s=(0,V.jV)((0,z.AA)(n),e,E)}return s}function _removePlugins(n,t,i){if(n&&n[M.R5]>0){var r=(0,V.jV)(n,e,E),o=(0,V.Bt)(r,E);o[M.Fc]((function(){var e=!1,t=[];(0,a.tO)(c,(function(i,r){_isPluginPresent(i,n)?e=!0:t[M.MW](i)})),c=t;var r=[];g&&((0,a.tO)(g,(function(t,i){var o=[];(0,a.tO)(t,(function(t){_isPluginPresent(t,n)?e=!0:o[M.MW](t)})),r[M.MW](o)})),g=r),i&&i(e)})),o[M.uL](t)}else i(!1)}function _flushInternalLogs(){var n=E[M.eZ]?E[M.eZ].queue:[];n&&((0,a.tO)(n,(function(n){var t,i=((t={})[M.I]=_||"InternalMessageId: "+n[M.Gc],t.iKey=(0,a.v4)(e[M.p$]),t.time=(0,a.Y6)(new Date),t.baseType=w.lQ.dataType,t.baseData={message:n[M.gU]},t);E.track(i)})),n[M.R5]=0)}function _flushChannels(e,n,t,i){return d?d[M.kL](e,n,t||6,i):(n&&n(!1),!0)}function _logOrThrowError(e){var n=E[M.eZ];n?(0,w.kP)(n,2,73,e):(0,a._y)(e)}_initDefaults(),E[M.yl]=function(){return n},E[M.VL]=function(t,o,l,s){m&&(0,a._y)(J),E[M.yl]()&&(0,a._y)("Core should not be initialized more than once"),e=t||{},E[M.TC]=e,(0,a.le)(t[M.p$])&&(0,a._y)("Please provide instrumentation key"),i=s,E[K]=s,function _initDebugListener(){var n=(0,a.v4)(e.disableDbgExt);!0===n&&y&&(i[M.n7](y),y=null);i&&!y&&!0!==n&&(y=(0,W.p)(e),i[M.g](y))}(),function _initPerfManager(){var n=(0,a.v4)(e.enablePerfMgr);!n&&u&&(u=null);n&&(0,a.qK)(e,R.DN,_createPerfManager)}(),function _initExtConfig(){(0,a.qK)(e,R.Zh,{}).NotificationManager=i}(),l&&(E[M.eZ]=l);var f=(0,a.qK)(e,R.js,[]);(c=[])[M.MW].apply(c,(0,r.$h)((0,r.$h)([],o,!1),f,!1)),g=(0,a.qK)(e,R.Z,[]),_initPluginChain(null),v&&0!==v[M.R5]||(0,a._y)("No "+R.Z+" available"),n=!0,E.releaseQueue()},E.getTransmissionControls=function(){var e=[];return v&&(0,a.tO)(v,(function(n){e[M.MW](n.queue)})),(0,a.FL)(e)},E.track=function(n){n.iKey=n.iKey||e[M.p$],n[M.Z_]=n[M.Z_]||(0,a.Y6)(new Date),n.ver=n.ver||"4.0",!m&&E[M.yl]()?_createTelCtx()[M.uL](n):t[M.MW](n)},E[M.SD]=_createTelCtx,E[M.tb]=function(){return i||(i=function _createDummyNotificationManager(){var e;return(0,N.pu)(((e={})[M.g]=function(e){},e[M.n7]=function(e){},e[R.uC]=function(e){},e[R.$F]=function(e,n){},e[R.f_]=function(e,n){},e))}(),E[K]=i),i},E[M.g]=function(e){i&&i[M.g](e)},E[M.n7]=function(e){i&&i[M.n7](e)},E.getCookieMgr=function(){return l||(l=(0,U.Nz)(e,E[M.eZ])),l},E.setCookieMgr=function(e){l=e},E[R.kl]=function(){if(!o&&!u&&(0,a.v4)(e.enablePerfMgr)){var n=(0,a.v4)(e[R.DN]);(0,a.mf)(n)&&(u=n(E,E[M.tb]()))}return o||u||(0,D.j5)()},E.setPerfMgr=function(e){o=e},E.eventCnt=function(){return t[M.R5]},E.releaseQueue=function(){if(n&&t[M.R5]>0){var e=t;t=[],(0,a.tO)(e,(function(e){_createTelCtx()[M.uL](e)}))}},E.pollInternalLogs=function(n){_=n||null;var t=(0,a.v4)(e.diagnosticLogInterval);return t&&t>0||(t=1e4),P&&clearInterval(P),P=setInterval((function(){_flushInternalLogs()}),t)},E[M.LS]=function(){P&&(clearInterval(P),P=0,_flushInternalLogs())},(0,a.Vb)(E,(function(){return p}),["addTelemetryInitializer"]),E.unload=function(e,t,i){var r;void 0===e&&(e=!0),n||(0,a._y)("SDK is not initialized"),m&&(0,a._y)(J);var o=((r={reason:50})[M.d]=e,r.flushComplete=!1,r),u=(0,V.Bt)(_getPluginChain(),E);function _doUnload(e){o.flushComplete=e,m=!0,C.run(u,o),E[M.LS](),u[M.uL](o)}u[M.Fc]((function(){_initDefaults(),t&&t(o)}),E),_flushChannels(e,_doUnload,6,i)||_doUnload(!1)},E[M.TO]=_getPlugin,E.addPlugin=function(e,n,t,i){if(!e)return i&&i(!1),void _logOrThrowError(q);var r=_getPlugin(e[M.pZ]);if(r&&!n)return i&&i(!1),void _logOrThrowError("Plugin ["+e[M.pZ]+"] is already loaded!");var o={reason:16};function _addPlugin(n){c[M.MW](e),o.added=[e],_initPluginChain(o),i&&i(!0)}if(r){var a=[r.plugin];_removePlugins(a,{reason:2,isAsync:!!t},(function(e){e?(o.removed=a,o.reason|=32,_addPlugin()):i&&i(!1)}))}else _addPlugin()},E.evtNamespace=function(){return h},E[M.kL]=_flushChannels,E.getTraceCtx=function(e){return S||(S=(0,z.Yn)()),S},E.setTraceCtx=function(e){S=e||null},(0,a.Oi)(E,"addUnloadCb",(function(){return C}),"add")}))}return BaseCore.__ieDyn=1,BaseCore}();function _runListeners(e,n,t,i){(0,a.tO)(e,(function(e){if(e&&e[n])if(t)setTimeout((function(){return i(e)}),0);else try{i(e)}catch(e){}}))}var $=function(){function NotificationManager(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;(0,F.Z)(NotificationManager,this,(function(e){e[M.g]=function(n){e.listeners[M.MW](n)},e[M.n7]=function(n){for(var t=(0,a.UA)(e[M.dE],n);t>-1;)e.listeners[M.cb](t,1),t=(0,a.UA)(e[M.dE],n)},e[R.uC]=function(n){_runListeners(e[M.dE],R.uC,!0,(function(e){e[R.uC](n)}))},e[R.$F]=function(n,t){_runListeners(e[M.dE],R.$F,!0,(function(e){e[R.$F](n,t)}))},e[R.f_]=function(n,t){_runListeners(e[M.dE],R.f_,t,(function(e){e[R.f_](n,t)}))},e[R.C$]=function(t){t&&(!n&&t[M.PL]()||_runListeners(e[M.dE],R.C$,!1,(function(e){t[M.d]?setTimeout((function(){return e[R.C$](t)}),0):e[R.C$](t)})))}}))}return NotificationManager.__ieDyn=1,NotificationManager}(),X=function(e){function AppInsightsCore(){var n=e.call(this)||this;return(0,F.Z)(AppInsightsCore,n,(function(e,n){function _notifyInvalidEvent(n){var t=e[M.tb]();t&&t[R.$F]([n],2)}e[M.VL]=function(e,t,i,r){n[M.VL](e,t,i||new w.AQ(e),r||new $(e))},e.track=function(t){(0,D.Lm)(e[R.kl](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(_notifyInvalidEvent(t),(0,a._y)("Invalid telemetry item")),function _validateTelemetryItem(e){(0,a.le)(e[M.I])&&(_notifyInvalidEvent(e),(0,a._y)("telemetry name required"))}(t),n.track(t)}),(function(){return{item:t}}),!t.sync)}})),n}return(0,r.ne)(AppInsightsCore,e),AppInsightsCore.__ieDyn=1,AppInsightsCore}(Y),ee=t(51539),ne=t(65705),te=function(e){function AppInsightsCore(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],(0,F.Z)(AppInsightsCore,n,(function(e,n){e.logger&&e.logger.queue||(e.logger=new w.AQ({loggingLevelConsole:1})),e.initialize=function(t,i,r,o){(0,D.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){var u=e.pluginVersionStringArr;if(t){t.endpointUrl||(t.endpointUrl=ee.YT);var l=t.propertyStorageOverride;!l||l.getProperty&&l.setProperty||(0,a._y)("Invalid property storage override passed."),t.channels&&(0,a.tO)(t.channels,(function(e){e&&(0,a.tO)(e,(function(e){if(e.identifier&&e.version){var n=e.identifier+"="+e.version;u.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document||t.enableWParam?0:-1},i&&(0,a.tO)(i,(function(e){if(e&&e.identifier&&e.version){var n=e.identifier+"="+e.version;u.push(n)}})),e.pluginVersionString=u.join(";"),e.pluginVersionStringArr=u;try{n.initialize(t,i,r,o),e.pollInternalLogs("InternalLog")}catch(n){var s=e.logger,c=(0,k.eU)(n);-1!==c.indexOf("channels")&&(c+="\n - Channels must be provided through config.channels only!"),(0,w.kP)(s,1,514,"SDK Initialization Failed - no telemetry will be sent: "+c)}}),(function(){return{config:t,extensions:i,logger:r,notificationManager:o}}))},e.track=function(t){(0,D.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var i=t;if(i){i.timings=i.timings||{},i.timings.trackStart=(0,ne.hK)(),(0,ne.r7)(i.latency)||(i.latency=1);var r=i.ext=i.ext||{};r.sdk=r.sdk||{},r.sdk.ver=ne.vs;var o=i.baseData=i.baseData||{};o[ee.o6]=o[ee.o6]||{};var a=o[ee.o6];a[ee.p8]=a[ee.p8]||e.pluginVersionString||ee.qS}n.track(i)}),(function(){return{item:t}}),!t.sync)}})),n}return(0,r.ne)(AppInsightsCore,e),AppInsightsCore.__ieDyn=1,AppInsightsCore}(X);const ie=te;var re=function(e){function BaseCore(){var n=e.call(this)||this;return(0,F.Z)(BaseCore,n,(function(e,n){e.initialize=function(t,i,r,o){t&&!t.endpointUrl&&(t.endpointUrl=ee.YT),e.getWParam=function(){return ne.x9||t.enableWParam?0:-1};try{n.initialize(t,i,r,o)}catch(n){(0,w.kP)(e.logger,1,514,"Initialization Failed: "+(0,k.eU)(n)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var t=e;if(t){var i=t.ext=t.ext||{};i.sdk=i.sdk||{},i.sdk.ver=ne.vs}n.track(t)}})),n}return(0,r.ne)(BaseCore,e),BaseCore.__ieDyn=1,BaseCore}(Y);const oe=re;var ae=a.mf;function _createPromiseAllOnResolvedFunction(e,n,t){return function(i){e[n]=i,t()}}const ue=function(){function ESPromise(e){var n=0,t=null,i=[];function _processQueue(){if(i.length>0){var e=i.slice();i=[],setTimeout((function(){for(var n=0,t=e.length;n<t;++n)try{e[n]()}catch(e){}}),0)}}function _resolve(e){0===n&&(t=e,n=1,_processQueue())}function _reject(e){0===n&&(t=e,n=2,_processQueue())}(0,F.Z)(ESPromise,this,(function(e){e.then=function(e,r){return new ESPromise((function(o,a){!function _enqueue(e,r,o,a){i.push((function(){var i;try{(i=1===n?ae(e)?e(t):t:ae(r)?r(t):t)instanceof ESPromise?i.then(o,a):2!==n||ae(r)?o(i):a(i)}catch(e){return void a(e)}})),0!==n&&_processQueue()}(e,r,o,a)}))},e.catch=function(n){return e.then(null,n)}})),function _initialize(){if(!ae(e))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{e(_resolve,_reject)}catch(e){_reject(e)}}()}return ESPromise.resolve=function(e){return e instanceof ESPromise?e:e&&ae(e.then)?new ESPromise((function(n,t){try{e.then(n,t)}catch(e){t(e)}})):new ESPromise((function(n){n(e)}))},ESPromise.reject=function(e){return new ESPromise((function(n,t){t(e)}))},ESPromise.all=function(e){if(e&&e.length)return new ESPromise((function(n,t){try{for(var i=[],r=0,o=0;o<e.length;o++){var a=e[o];a&&ae(a.then)?(r++,a.then(_createPromiseAllOnResolvedFunction(i,o,(function(){0==--r&&n(i)})),t)):i[o]=a}0===r&&setTimeout((function(){n(i)}),0)}catch(e){t(e)}}))},ESPromise.race=function(e){return new ESPromise((function(n,t){if(e&&e.length)try{for(var _loop_1=function(i){var r=e[i];r&&ae(r.then)?r.then(n,t):setTimeout((function(){n(r)}),0)},i=0;i<e.length;i++)_loop_1(i)}catch(e){t(e)}}))},ESPromise}();var le=0,se=[],ce=[],fe=[];function _getTime(){return(new Date).getTime()}const de=function(){function ESPromiseScheduler(e,n){var t=0,i=(e||"<unnamed>")+"."+le;function _debugLog(e){var n=(0,N.Rd)();n&&n.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+e)}function _warnLog(e){(0,w.jV)(n,"ESPromiseScheduler["+i+"] "+e)}le++,(0,F.Z)(ESPromiseScheduler,this,(function(e){var n=null,r=0;function _removeQueuedEvent(e,n){for(var t=0;t<e.length;t++)if(e[t].id===n)return e.splice(t,1)[0];return null}e.scheduleEvent=function(e,o,a){var u=i+"."+r;r++,o&&(u+="-("+o+")");var l=u+"{"+t+"}";t++;var s={evt:null,tm:_getTime(),id:l,isRunning:!1,isAborted:!1};return s.evt=n?function _waitForPreviousEvent(e,n){var t=new ue((function(t,i){var r=_getTime()-n.tm,o=n.id;_debugLog("["+u+"] is waiting for ["+o+":"+r+" ms] to complete before starting -- ["+ce.length+"] waiting and ["+se.length+"] running"),e.abort=function(n){e.abort=null,_removeQueuedEvent(ce,u),e.isAborted=!0,i(new Error(n))},n.evt.then((function(n){_removeQueuedEvent(ce,u),_startWaitingEvent(e).then(t,i)}),(function(n){_removeQueuedEvent(ce,u),_startWaitingEvent(e).then(t,i)}))}));return ce.push(e),t}(s,n):_startWaitingEvent(s),(n=s).evt._schId=l,s.evt;function _abortAndRemoveOldEvents(e){for(var n=_getTime(),t=n-6e5,i=e.length,r=0;r<i;){var o=e[r];if(o&&o.tm<t){var a=null;o.abort?(a="Aborting ["+o.id+"] due to Excessive runtime ("+(n-o.tm)+" ms)",o.abort(a)):a="Removing ["+o.id+"] due to Excessive runtime ("+(n-o.tm)+" ms)",_warnLog(a),e.splice(r,1),i--}else r++}}function _cleanup(e,t){var i=!1,r=_removeQueuedEvent(se,e);if(r||(r=_removeQueuedEvent(fe,e),i=!0),r){r.to&&(clearTimeout(r.to),r.to=null);var o=_getTime()-r.tm;t?i?_warnLog("Timed out event ["+e+"] finally complete -- "+o+" ms"):_debugLog("Promise ["+e+"] Complete -- "+o+" ms"):(fe.push(r),_warnLog("Event ["+e+"] Timed out and removed -- "+o+" ms"))}else _debugLog("Failed to remove ["+e+"] from running queue");n&&n.id===e&&(n=null),_abortAndRemoveOldEvents(se),_abortAndRemoveOldEvents(ce),_abortAndRemoveOldEvents(fe)}function _removeScheduledEvent(e,n){return function(t){return _cleanup(e,!0),n&&n(t),t}}function _waitForFinalResult(e,n,t,i){n.then((function(n){return n instanceof ue?(_debugLog("Event ["+e+"] returned a promise -- waiting"),_waitForFinalResult(e,n,t,i),n):_removeScheduledEvent(e,t)(n)}),_removeScheduledEvent(e,i))}function _createScheduledEvent(e,n){var t=e.id;return new ue((function(i,r){_debugLog("Event ["+t+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(n){e.abort=null,e.isAborted=!0,_cleanup(t,!1),r(new Error(n))};var o=n(t);o instanceof ue?(a&&(e.to=setTimeout((function(){_cleanup(t,!1),r(new Error("Timed out after ["+a+"] ms"))}),a)),_waitForFinalResult(t,o,(function(n){_debugLog("Event ["+t+"] Resolving after "+(_getTime()-e.tm)+" ms"),i(n)}),r)):(_debugLog("Promise ["+t+"] Auto completed as the start action did not return a promise"),i())}))}function _startWaitingEvent(n){var t=_getTime();return n.wTm=t-n.tm,n.tm=t,n.isAborted?ue.reject(new Error("["+u+"] was aborted")):(se.push(n),_createScheduledEvent(n,e))}}}))}return ESPromiseScheduler.incomplete=function(){return se},ESPromiseScheduler.waitingToStart=function(){return ce},ESPromiseScheduler}();var ge=function(){function ValueSanitizer(e){var n=this,t={},i=[],r=[];function _getFieldSanitizer(e,n){var o,u=t[e];if(u&&(o=u[n]),!o&&null!==o){if((0,a.HD)(e)&&(0,a.HD)(n))if(r.length>0){for(var l=0;l<r.length;l++)if(r[l].handleField(e,n)){o={canHandle:!0,fieldHandler:r[l]};break}}else 0===i.length&&(o={canHandle:!0});if(!o&&null!==o){o=null;for(l=0;l<i.length;l++)if(i[l].handleField(e,n)){o={canHandle:!0,handler:i[l],fieldHandler:null};break}}u||(u=t[e]={}),u[n]=o}return o}function _handleProperty(e,n,t,i,r,o){if(e.handler)return e.handler.property(n,t,r,o);if(!(0,a.le)(r.kind)){if(4096==(4096&i)||!(0,ne.oS)(r.kind))return null;r.value=r.value.toString()}return _callFieldSanitizer(e.fieldHandler,n,t,i,r)}function _convertToProperty(e,n,t){return(0,ne.Sn)(t)?{value:t}:null}function _callFieldSanitizer(e,t,i,r,o){if(o&&e){var u=e.getSanitizer(t,i,r,o.kind,o.propertyType);if(u)if(4===r){var l={},s=o.value;(0,a.rW)(s,(function(n,r){var o=t+"."+i;if((0,ne.Sn)(r)){var a=_convertToProperty(0,0,r);(a=_callFieldSanitizer(e,o,n,(0,ne.Sy)(r),a))&&(l[n]=a.value)}})),o.value=l}else{var c={path:t,name:i,type:r,prop:o,sanitizer:n};o=u.call(n,c)}}return o}e&&r.push(e),n.addSanitizer=function(e){e&&(i.push(e),t={})},n.addFieldSanitizer=function(e){e&&(r.push(e),t={})},n.handleField=function(e,n){var t=_getFieldSanitizer(e,n);return!!t&&t.canHandle},n.value=function(e,n,t,i){var r=_getFieldSanitizer(e,n);if(r&&r.canHandle){if(!r||!r.canHandle)return null;if(r.handler)return r.handler.value(e,n,t,i);if(!(0,a.HD)(n)||(0,a.le)(t)||t===ee.qS)return null;var o=null,u=(0,ne.Sy)(t);if(8192==(8192&u)){var l=-8193&u;if(o=t,!(0,ne.Sn)(o.value)||1!==l&&2!==l&&3!==l&&4096!=(4096&l))return null}else 1===u||2===u||3===u||4096==(4096&u)?o=_convertToProperty(e,n,t):4===u&&(o=_convertToProperty(e,n,i?JSON.stringify(t):t));if(o)return _handleProperty(r,e,n,u,o,i)}return null},n.property=function(e,n,t,i){var r=_getFieldSanitizer(e,n);if(!r||!r.canHandle)return null;if(!(0,a.HD)(n)||(0,a.le)(t)||!(0,ne.Sn)(t.value))return null;var o=(0,ne.Sy)(t.value);return 0===o?null:_handleProperty(r,e,n,o,t,i)}}return ValueSanitizer.getFieldType=ne.Sy,ValueSanitizer}(),ve=100,me=t(28452),pe=t(28956),_e=t(47954),he=t(19406),Ce=t(1550),ye=t(56207)}};